<?php
$string="217-300-300,215-250-250,477-167989-143900,3223-300-300,3249-300-300,3983-300-300,4083-300-300,4099-300-300";

$pairs = explode(',', $string);
$a = array();
foreach ($pairs as $pair) {
    list($k,$v) = explode('-', $pair);
    $a[$k] = $v;
}
print_r($a);