{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "Main",
        "models": [
            "Diagnosis",
            "Vitals",
            "Prescriptions",
            "OPAdmissions",
            "ClinicalRooms",
            "WardInfo",
            "ClinicsInfo",
            "Announcements",
            "Clincs",
            "Radiology",
            "Investigations",
            "Notes",
            "MenusModel",
            "SubMenuModels",
            "PatientDetails",
            "AdmissionTypes",
            "EncountersList",
            "County"
        ],
        "stores": [
            "VitalsStore",
            "PrescriptionStore",
            "OPAdmissionsStore",
            "ClinicalRoomsStore",
            "ClinicInfoStore",
            "OPAdmissions",
            "Prescriptions",
            "ClinicsStore",
            "AnnouncementStore",
            "RadiologyStore",
            "InvestigationsStore",
            "NotesStore",
            "GridStore",
            "ChartStore",
            "AdmissionTypeStore",
            "DiagnosisStore",
            "PatientDetails",
            "EncountersListStore",
            "CountyStore"
        ],
        "views": [
            "Portal",
            "PortalPanel",
            "ChartPortlet",
            "GridPortlet",
            "Message",
            "HeaderPanel",
            "Vitals",
            "DiagnosisPanel",
            "Investigations",
            "DoctorsNotes",
            "Prescriptions",
            "Complains",
            "DoctorsArea",
            "PatientStatus",
            "RoomAllocation",
            "DoctorsWorkload",
            "TriagePanel",
            "Announcements",
            "WardsTable",
            "OpdVisits",
            "OutpatientList",
            "AdmissionData",
            "AdmitInpatient",
            "AdmitOutpatient",
            "MenuDiagram",
            "DontorsNotesEntry",
            "WardOccupancy",
            "VitalsForm",
            "Notes",
            "AssignBeds"
        ]
    },
    "configAlternates": {
        "designer|userClassName": "string",
        "views": "typedarray",
        "models": "typedarray",
        "stores": "typedarray"
    },
    "designerId": "6a0acaee-7d2e-4004-b317-0ab61506e797",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "panel[isPortlet]",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onPortletBeforeClose",
                "implHandler": [
                    "// Provide a custom fade out effect when a portlet is removed from the portal",
                    "if (!panel.closing) {",
                    "    panel.closing = true;",
                    "    panel.el.animate({",
                    "        opacity: 0,",
                    "        callback: panel.doClose,",
                    "        scope: panel",
                    "    });",
                    "}",
                    "return false;",
                    ""
                ],
                "name": "beforeclose",
                "scope": "me"
            },
            "configAlternates": {
                "designer|controlQuery": "string",
                "designer|targetType": "view",
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string"
            },
            "name": "onPortletBeforeClose",
            "designerId": "4690992a-7342-4d76-8b24-1ef349e8abbd"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "msg"
                ],
                "fn": "showMsg",
                "implHandler": [
                    "var msgId = Ext.id(),",
                    "    msgCmp = this.getMsg();",
                    "",
                    "this.msgId = msgId;",
                    "msgCmp.update(msg);",
                    "msgCmp.show();",
                    "",
                    "Ext.defer(this.clearMsg, 3000, this, [msgId]);"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "showMsg",
            "designerId": "3f66cf28-7e4f-4b6c-8aa9-9e398efba77d"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "msgId"
                ],
                "fn": "clearMsg",
                "implHandler": [
                    "if (msgId === this.msgId) {",
                    "    this.getMsg().hide();",
                    "}"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "clearMsg",
            "designerId": "371fdd0d-7011-4775-b692-14034d18582b"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoCreate": true,
                "ref": "msg",
                "selector": "message",
                "xtype": "message"
            },
            "configAlternates": {
                "autoCreate": "boolean",
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "msg",
            "designerId": "3b72f320-2675-4345-a479-f5caa87ab95e"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "panel[isPortlet]",
                "designer|params": [
                    "panel"
                ],
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onPortletClose",
                "implHandler": [
                    "this.showMsg('\"' + panel.title + '\" was removed');"
                ],
                "name": "close",
                "scope": "me"
            },
            "configAlternates": {
                "designer|controlQuery": "string",
                "designer|params": "typedarray",
                "designer|targetType": "view",
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string"
            },
            "name": "onPortletClose",
            "designerId": "53834857-2e8c-4c9e-962e-62ccb0591c17"
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "application"
                ],
                "fn": "init",
                "implHandler": [
                    "this.control({",
                    "    \"#mnuHome\":{",
                    "        click:this.openHome",
                    "    },",
                    "    \"#mnuDoctorsArea\":{",
                    "        click:this.openDoctorsArea",
                    "    },",
                    "    \"outpatientlist\":{",
                    "        itemclick:this.updateHeaderDetails//,",
                    "        //itemdblclick:this.getPatientData",
                    "    },",
                    "    '#OutpatientAdmissions':{",
                    "        itemdblclick:this.openAdmissionData",
                    "    },",
                    "    '#mnuNursingArea':{",
                    "        click:this.openTriage",
                    "    },",
                    "    '#txtOpSearch':{",
                    "        change:this.searchPatients",
                    "    },",
                    "    '#cmdNew':{",
                    "        click:this.openEntryForm",
                    "    },",
                    "    '#cmdSave':{",
                    "        click:this.saveForm",
                    "    },",
                    "    '#menusPanel':{",
                    "        render:this.buildMenus",
                    "    },",
                    "    'menu':{",
                    "        click:this.getSelectedMenu",
                    "    },",
                    "    '#searchBox':{",
                    "        specialkey:this.getPressedKey",
                    "    },",
                    "    '#cmdRegister':{",
                    "        click:this.openRegister",
                    "    },",
                    "    'patientinfo button#viewPatients':{",
                    "        click:this.getViewPatient",
                    "    },",
                    "    '#cmdSearch':{",
                    "        click:this.searchPatient",
                    "    },",
                    "    '#cmdAdmitInpatient':{",
                    "        click:this.showAdmissionform",
                    "    },",
                    "    '#cmdAdmitOutpatient':{",
                    "        click:this.showAdmissionform",
                    "    },",
                    "    '#cancelAdmit':{",
                    "        click:this.cancelAdmission",
                    "    },",
                    "    '#savePatient':{",
                    "        click:this.savePatient",
                    "    },",
                    "    '#saveOpAdmission':{",
                    "        click:this.saveOpAdmission",
                    "    },",
                    "    '#saveIpAdmission':{",
                    "        click:this.saveIpAdmission",
                    "    },",
                    "    '#btnVitals':{",
                    "        afterrender:this.createVitals",
                    "    },",
                    "    'outpatientlist button#viewPatients':{",
                    "        click:this.getViewPatient",
                    "    },",
                    "    '#btnNotes':{",
                    "        afterrender:this.createNotes",
                    "    },",
                    "    '#btnDiagnosis':{",
                    "        afterrender:this.createDiagnosis",
                    "    },",
                    "    '#btnLabtest':{",
                    "        afterrender:this.createLabTest",
                    "    },",
                    "    '#btnRadiology':{",
                    "        afterrender:this.createRadiology",
                    "    },",
                    "    '#btnServices':{",
                    "        afterrender:this.createServices",
                    "    },",
                    "    '#btnPrescriptions':{",
                    "        afterrender:this.createPrescription",
                    "    },",
                    "    '#cmdAddComplaints':{",
                    "        click:this.addComplaints",
                    "    },",
                    "    '#waitingList':{",
                    "        afterrender:this.getSelectedPatient",
                    "    },",
                    "    'assignbeds':{",
                    "        itemclick:this.assignBed",
                    "    }",
                    "",
                    "});"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "init",
            "designerId": "c056d7e4-8074-4969-a3f3-2846790f0319"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "openDoctorsArea",
                "implHandler": [
                    "Ext.Ajax.request({",
                    "    url: 'data/getDataFunctions.php?task=checkUserRole',",
                    "    waitMsg: 'checkin user permissions ...',",
                    "    success: function(response){",
                    "        var text = response.responseText;",
                    "       // Ext.Msg.alert('Dashboard','You are allowed to access Doctors Area');",
                    "        headerPanel=Ext.create(\"CarePortal.view.HeaderPanel\",{});",
                    "",
                    "        doctorsArea=Ext.create(\"CarePortal.view.DoctorsArea\",{});",
                    "        centerContainer=this.getViewport().down(\"#PortalDetails\");",
                    "        centerContainer.removeAll();",
                    "",
                    "        centerContainer.add(headerPanel,doctorsArea);",
                    "        //this.openHome();",
                    "",
                    "    },",
                    "    failure:function(response){",
                    "       // var resp = JSON.parseJSON(response);",
                    "        Ext.Msg.alert('Access Denied','Access Denied, contact Systems Administrator');",
                    "    },",
                    "      scope: this",
                    "});",
                    "",
                    ""
                ]
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code"
            },
            "name": "openDoctorsArea",
            "designerId": "74929d54-1471-41a3-922d-d658892e5b01"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "openHome",
                "implHandler": [
                    "        homeArea=Ext.create(\"CarePortal.view.PortalPanel\",{});",
                    "        centerContainer=this.getViewport().down(\"#PortalDetails\");",
                    "        centerContainer.removeAll();",
                    "",
                    "        centerContainer.add(homeArea);",
                    "",
                    "        this.getAnnouncements();"
                ]
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code"
            },
            "name": "openHome",
            "designerId": "a228871a-a949-49ae-b30e-807629012d80"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "viewport",
                "selector": "viewport",
                "xtype": "portal"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "viewport",
            "designerId": "d76f4c22-1de3-4638-a87d-4b7d21f811d9"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "headerpanel",
                "selector": "headerpanel",
                "xtype": "headerpanel"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "headerpanel",
            "designerId": "dab693d5-d67e-463d-93ed-b100313751e9"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "gridpanel",
                    "record",
                    "item",
                    "index",
                    "e",
                    "eOpts"
                ],
                "fn": "updateHeaderDetails",
                "implHandler": [
                    "// Ext.Msg.alert('Test',record.get('FirstName'));",
                    "",
                    "// this.getHeaderpanel().down('#PatientName').setValue(record.get('Names'));",
                    "// this.getHeaderpanel().down('#Age').setValue(record.get('Age'));",
                    "// this.getHeaderpanel().down('#Gender').setValue(record.get('Gender'));",
                    "// this.getHeaderpanel().down('#PID').setValue(record.get('Pid'));",
                    "// this.getHeaderpanel().down('#EncounterNo').setValue(record.get('EncounterNo'));",
                    "",
                    "var encNo=record.get('EncounterNo');",
                    "",
                    "var presStore=Ext.data.StoreManager.lookup(\"PrescriptionStore\");",
                    "",
                    "presStore.load({",
                    "    params: {",
                    "        encNo:encNo",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "        //this.getVitals(encNo);",
                    "    },",
                    "    scope: this",
                    "});",
                    "",
                    "",
                    "// this.getVitals(record.get('EncounterNo'));",
                    "// this.getDiagnosis(record.get('EncounterNo'));",
                    "// this.getInvestigations(record.get('EncounterNo'));",
                    "// this.getNotes(record.get('EncounterNo'));",
                    "// this.getRadiology(record.get('EncounterNo'));",
                    "// this.getProcedures(record.get('EncounterNo'));"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "updateHeaderDetails",
            "designerId": "4cb8815c-5500-47f2-aef5-07a86fe4e986"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "gridpanel",
                    "record",
                    "item",
                    "index",
                    "e",
                    "eOpts"
                ],
                "fn": "getPatientData",
                "implHandler": [
                    "this.openDoctorsArea();",
                    "",
                    "var encNo=record.get('EncounterNo');",
                    "",
                    "var presStore=Ext.data.StoreManager.lookup(\"PrescriptionStore\");",
                    "",
                    "presStore.load({",
                    "    params: {",
                    "        encNo:encNo",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "        this.getVitals(encNo);",
                    "        this.getDiagnosis(encNo);",
                    "    },",
                    "    scope: this",
                    "});",
                    "",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getPatientData",
            "designerId": "b08eb59c-2b7e-4e3e-9f21-161991615f4f"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "encNo"
                ],
                "fn": "getVitals",
                "implHandler": [
                    "var vitalsStore=Ext.data.StoreManager.lookup(\"VitalsStore\");",
                    "var vitalsPanel=this.getViewport().down(\"#vitals\");",
                    "",
                    "vitalsStore.load({",
                    "    params: {",
                    "        encNo:encNo",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "        var tpl=new Ext.XTemplate(",
                    "            '<Table id=vitals>',",
                    "            '<tr><td class=titles>ID</td><td class=titles>Time</td><td class=titles>Description</td><td class=titles>Values</td></tr>',",
                    "                '<tpl for=\".\">',",
                    "                     '<tr>',",
                    "                        '<td>{VitalID}</td>',",
                    "                        '<td>{VitalsTime}</td>',",
                    "                        '<td>{Description}</td>',",
                    "                        \"<tpl if='Value &gt;= Lower' && 'Value &lt;= Upper'>\",",
                    "                            '<td class=good>{Value}</td>',",
                    "                        '<tpl else>',",
                    "                            '<td class=danger>{Value}</td>',",
                    "                        '</tpl>',",
                    "                     '</tr>',",
                    "                '</tpl>',",
                    "            '</table>'",
                    "        );",
                    "",
                    "        var data = [];",
                    "        vitalsStore.each(function(record) {",
                    "            data.push(record.getData());",
                    "        });",
                    "",
                    "        tpl.overwrite(vitalsPanel.body,data);",
                    "",
                    "",
                    "    },scope:this",
                    "",
                    "});",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getVitals",
            "designerId": "681652b5-397a-4b85-b9e0-042b76246ac4"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "encNo"
                ],
                "fn": "getDiagnosis",
                "implHandler": [
                    "var diagnosisPanel=this.getViewport().down(\"#diagnosispanel\");",
                    "var diagnosisStore=Ext.data.StoreManager.lookup(\"DiagnosisStore\");",
                    "",
                    " diagnosisStore.load({",
                    "     params: {",
                    "         encNo:encNo",
                    "     },",
                    "     callback: function(records, operation, success) {",
                    "         var tpl=new Ext.XTemplate(",
                    "             '<Table id=diagnosis>',",
                    "             '<tr><td colspan=4 class=titles>DIAGNOSIS</td></tr>',",
                    "             '<tr><td class=titles>Code</td>',",
                    "             '<td class=titles>Description</td>',",
                    "             '<td class=titles>Time</td>',",
                    "             '<td class=titles>Type</td>',",
                    "             '</tr>',",
                    "             '<tpl for=\".\">',",
                    "             '<tr>',",
                    "             '<td>{Code}</td>',",
                    "             '<td>{Description}</td>',",
                    "             '<td>{Time}</td>',",
                    "             '<td>{Type}</td>',",
                    "             '</tr>',",
                    "             '</tpl>',",
                    "             '</table>'",
                    "         );",
                    "",
                    "         var data = [];",
                    "         diagnosisStore.each(function(record) {",
                    "             data.push(record.getData());",
                    "         });",
                    "",
                    "         tpl.overwrite(diagnosisPanel.body,data);",
                    "",
                    "",
                    "     },scope:this",
                    "",
                    " });",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getDiagnosis",
            "designerId": "fd0d1076-feac-40f5-bf52-2ea9af801552"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "encNo"
                ],
                "fn": "getInvestigations",
                "implHandler": [
                    "var investigationsPanel=this.getViewport().down(\"#investigations\");",
                    "var investigationsStore=Ext.data.StoreManager.lookup(\"InvestigationsStore\");",
                    "",
                    "investigationsStore.load({",
                    "    params: {",
                    "        encNo:encNo",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "            var tpl=new Ext.XTemplate(",
                    "                '<Table id=investigations>',",
                    "                '<tr><td colspan=5 class=titles>INVESTIGATIONS</td></tr>',",
                    "                        '<tr><td class=titles>Status</td>',",
                    "                            '<td class=titles>Description</td>',",
                    "                            '<td class=titles>TimeRequested</td>',",
                    "                            '<td class=titles>BatchNo</td>',",
                    "                            '<td class=titles>RequestedBy</td>',",
                    "                        '</tr>',",
                    "                 '<tpl for=\".\">',",
                    "",
                    "                        '<tr>',",
                    "                            '<tpl if=\"Status == pending\">',",
                    "                                '<td class=status1>{Status}</td>',",
                    "                            '<tpl else>',",
                    "                                 '<td class=status1>{Status}</td>',",
                    "                            '</tpl>',",
                    "                            '<td>{Description}</td>',",
                    "                            '<td>{TimeRequested}</td>',",
                    "                            '<td>{BatchNo}</td>',",
                    "                            '<td>{RequestedBy}</td>',",
                    "                        '</tr>',",
                    "                '</tpl>',",
                    "                '</table>'",
                    "            );",
                    "",
                    "        var data = [];",
                    "        investigationsStore.each(function(record) {",
                    "            data.push(record.getData());",
                    "        });",
                    "",
                    "        tpl.overwrite(investigationsPanel.body,data);",
                    "",
                    "    },",
                    "    scope: this",
                    "});",
                    "",
                    "",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getInvestigations",
            "designerId": "cb91972b-b976-4090-a4f5-7203916a4086"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "encNo"
                ],
                "fn": "getRadiology",
                "implHandler": [
                    "var radiologyPanel=this.getViewport().down(\"#radiology\");",
                    "var radiologyStore=Ext.data.StoreManager.lookup(\"RadiologyStore\");",
                    "",
                    "radiologyStore.load({",
                    "    params: {",
                    "        encNo:encNo",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "            var tpl=new Ext.XTemplate(",
                    "                '<Table id=investigations>',",
                    "                '<tr><td colspan=5 class=titles>RADIOLOGY TESTS</td></tr>',",
                    "                        '<tr><td class=titles>Status</td>',",
                    "                            '<td class=titles>Description</td>',",
                    "                            '<td class=titles>TimeRequested</td>',",
                    "                            '<td class=titles>BatchNo</td>',",
                    "                            '<td class=titles>RequestedBy</td>',",
                    "                        '</tr>',",
                    "                 '<tpl for=\".\">',",
                    "",
                    "                        '<tr>',",
                    "                            '<tpl if=\"Status == pending\">',",
                    "                                '<td class=status1>{Status}</td>',",
                    "                            '<tpl else>',",
                    "                                 '<td class=status1>{Status}</td>',",
                    "                            '</tpl>',",
                    "                            '<td>{Description}</td>',",
                    "                            '<td>{TimeRequested}</td>',",
                    "                            '<td>{BatchNo}</td>',",
                    "                            '<td>{RequestedBy}</td>',",
                    "                        '</tr>',",
                    "                '</tpl>',",
                    "                '</table>'",
                    "            );",
                    "",
                    "              var data = [];",
                    "",
                    "                radiologyStore.each(function(record) {",
                    "                    data.push(record.getData());",
                    "                });",
                    "",
                    "                tpl.overwrite(radiologyPanel.body,data);",
                    "    },",
                    "    scope: this",
                    "});",
                    "",
                    "",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getRadiology",
            "designerId": "66bc7b5e-cd2a-4f34-870b-f6571f9f8998"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "encNo"
                ],
                "fn": "getNotes",
                "implHandler": [
                    "//vitalsPanel = Ext.create('CarePortal.view.Vitals', {});",
                    "notesPanel=this.getViewport().down(\"#notes\");",
                    "",
                    "",
                    "var notesStore=Ext.data.StoreManager.lookup(\"NotesStore\");",
                    "",
                    "notesStore.load({",
                    "    params: {",
                    "        encNo:encNo",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "            var tpl=new Ext.XTemplate(",
                    "                '<Table id=notes>',",
                    "                '<tr><td colspan=4 class=titles>DOCTORS NOTES & COMPLAINTS</td></tr>',",
                    "                        '<tr><td class=titles>Note Type</td>',",
                    "                            '<td class=titles>Note</td>',",
                    "                            '<td class=titles>Time</td>',",
                    "                            '<td class=titles>TreatedBy</td>',",
                    "                 '<tpl for=\".\">',",
                    "                        '<tr>',",
                    "                            '<td>{NotesType}</td>',",
                    "                            '<td style=\"width:400px;\"><div class=content>{Notes}</div></td>',",
                    "                            '<td>{CreateTime}</td>',",
                    "                            '<td>{TreatedBy}</td>',",
                    "                        '</tr>',",
                    "                '</tpl>',",
                    "                '</table>'",
                    "            );",
                    "",
                    "        var data = [];",
                    "",
                    "        notesStore.each(function(record) {",
                    "            data.push(record.getData());",
                    "        });",
                    "",
                    "         //var data1=notesStore.proxy.reader.rawData;",
                    "        tpl.overwrite(notesPanel.body,data);",
                    "    },",
                    "    scope: this",
                    "});",
                    "",
                    "",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getNotes",
            "designerId": "5d7ba14f-b3a1-4e0e-8854-9f658a9d303c"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "encNo"
                ],
                "fn": "getProcedures",
                "implHandler": [
                    "var procPanel=this.getViewport().down(\"#complains\");",
                    "var procStore=Ext.data.StoreManager.lookup(\"ProcedureStore\");",
                    "",
                    "procStore.load({",
                    "    params: {",
                    "        encNo:encNo",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "            var tpl=new Ext.XTemplate(",
                    "                '<Table id=investigations>',",
                    "                '<tr><td colspan=4 class=titles>Services & Procedures Rendered</td></tr>',",
                    "                        '<tr><td class=titles>No</td>',",
                    "                            '<td class=titles>PartCode</td>',",
                    "                            '<td class=titles>Description</td>',",
                    "                            '<td class=titles>Qty</td>',",
                    "                            '<td class=titles>Cost</td>',",
                    "                            '<td class=titles>Time</td></tr>',",
                    "                 '<tpl for=\".\">',",
                    "                        '<tr>',",
                    "                            '<td>{No}</td>',",
                    "                            '<td>{PartCode}</td>',",
                    "                            '<td style=\"width:300px;\"><div class=content>{Description}</div></td>',",
                    "                            '<td>{Qty}</td>',",
                    "                            '<td>{Price}</td>',",
                    "                            '<td>{RequestTime}</td>',",
                    "                        '</tr>',",
                    "                '</tpl>',",
                    "                '</table>'",
                    "            );",
                    "",
                    "        var data = [];",
                    "",
                    "        procStore.each(function(record) {",
                    "            data.push(record.getData());",
                    "        });",
                    "",
                    "        tpl.overwrite(procPanel.body,data);",
                    "    },",
                    "    scope: this",
                    "});",
                    "",
                    "",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getProcedures",
            "designerId": "68f512b4-00e1-417e-b5de-09f9e4723082"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "vitals",
                "selector": "vitals",
                "xtype": "vitals"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "vitals",
            "designerId": "c3bed1a3-3810-4dcf-923d-d4cee5f20f8d"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "gridpanel",
                    "record",
                    "item",
                    "index",
                    "e",
                    "options"
                ],
                "fn": "openAdmissionData",
                "implHandler": [
                    "strPid=record.get('Pid');",
                    "//getinfo(strPid)",
                    "url=\"../modules/registration_admission/aufnahme_pass.php?target=search&fwd_nr=\"+strPid+\"&title=Click to show data\";",
                    "//runModul (url);",
                    "window.parent.CONTENTS.location.href=url;",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "openAdmissionData",
            "designerId": "e13a98c6-8094-4e06-be08-4724977cf570"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "diagnosispanel",
                "selector": "diagnosispanel",
                "xtype": "diagnosispanel"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "diagnosispanel",
            "designerId": "6e2cf03f-9483-403e-94fe-4458ff03d9e5"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "investigations",
                "selector": "investigations",
                "xtype": "investigations"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "investigations",
            "designerId": "6d40e640-dbad-4f2e-a5f0-e0ad1e0c6309"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "doctorsnotes",
                "selector": "doctorsnotes",
                "xtype": "doctorsnotes"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "doctorsnotes",
            "designerId": "c261a2a8-36e3-42dd-8372-12ad17aeba60"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "radiology",
                "selector": "radiology",
                "xtype": "radiology"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "radiology",
            "designerId": "e4dd3671-7cc4-4a10-89d5-588180762250"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "openTriage",
                "implHandler": [
                    "        //headerPanel=Ext.create(\"CarePortal.view.HeaderPanel\",{});",
                    "",
                    "        triageArea=Ext.create(\"CarePortal.view.TriagePanel\",{});",
                    "        centerContainer=this.getViewport().down(\"#PortalDetails\");",
                    "        centerContainer.removeAll();",
                    "",
                    "        centerContainer.add(triageArea);"
                ]
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code"
            },
            "name": "openTriage",
            "designerId": "75d148fb-ea2a-4259-b12b-5741b0d1d340"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "viewport",
                "selector": "viewport",
                "xtype": "triagepanel"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "viewport",
            "designerId": "a8da7524-c827-4f2f-aa05-3c8fab66fed9"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "announcements",
                "selector": "announcements",
                "xtype": "announcements"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "announcements",
            "designerId": "dd86e424-2dae-4399-a2c3-9e2084792ed9"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "getAnnouncements",
                "implHandler": [
                    "//newsWindow = Ext.create('CarePortal.view.Announcements', {});",
                    "newsWindow=this.getViewport().down(\"#announcements\");",
                    "",
                    "var newsStore=Ext.data.StoreManager.lookup(\"AnnouncementStore\");",
                    "",
                    "newsStore.load({",
                    "    params: {},",
                    "    callback: function(records, operation, success) {",
                    "        var tpl=new Ext.XTemplate(",
                    "            '<Table id=announcements>',",
                    "            '<tpl for=\"Announcements\">',",
                    "            '<tr>',",
                    "            '<td class=titles>{title}</td></tr>',",
                    "            '<tr><td>{body}</td></tr>',",
                    "            '</tpl>',",
                    "           '</table>'",
                    "        );",
                    "        var data1=newsStore.proxy.reader.rawData;",
                    "        tpl.overwrite(newsWindow.body,data1);",
                    "    },",
                    "    scope: this",
                    "});",
                    ""
                ]
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getAnnouncements",
            "designerId": "cb83ffad-d668-4c24-aef3-273e110a8920"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "field",
                    "newValue",
                    "oldValue",
                    "eOpts"
                ],
                "fn": "searchPatients",
                "implHandler": [
                    "",
                    "if(newValue.length>2){",
                    "    //Ext.Msg.alert('test',newValue);",
                    "    var opStore=Ext.data.StoreManager.lookup(\"OPAdmissionsStore\");",
                    "",
                    "        opStore.load({",
                    "            params: {",
                    "                searchParam:newValue",
                    "            },",
                    "            callback: function(records, operation, success) {",
                    "            },",
                    "            scope: this",
                    "        });",
                    "}",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "searchPatients",
            "designerId": "1c08b027-ebb0-4b65-9472-61024ba51314"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "store",
                    "encNo"
                ],
                "fn": "getPortalData",
                "implHandler": [
                    "store.load({",
                    "    params: {",
                    "        encNo:encNo",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "",
                    "    },scope:this",
                    "",
                    "});",
                    "",
                    "var data = [];",
                    "",
                    "store.each(function(record) {",
                    "    data.push(record.getData());",
                    "});",
                    "",
                    "return data;"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getPortalData",
            "designerId": "76d6a19a-aec4-4a3a-9d78-0dbbd209bc96"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "openEntryForm",
                "implHandler": [
                    "var callingPanel=button.up('panel').getItemId();",
                    "//Ext.Msg.alert('Form Name',callingPanel);",
                    "if(callingPanel==='vitals'){",
                    "    var entryForm=Ext.create('CarePortal.view.VitalsForm', {});",
                    "    var strTitle=\"Vitals Form\";",
                    "}",
                    "",
                    "var entryWindow=Ext.create('Ext.window.Window', {",
                    "    title: strTitle,",
                    "    resizable:true,",
                    "    minWidth:300,",
                    "    minHeight:300",
                    "});",
                    "",
                    "// this.getHeaderpanel().down('#PatientName').setValue(record.get('Names'));",
                    "// this.getHeaderpanel().down('#Age').setValue(record.get('Age'));",
                    "// this.getHeaderpanel().down('#Gender').setValue(record.get('Gender'));",
                    "// this.getHeaderpanel().down('#PID').setValue(record.get('Pid'));",
                    "// this.getHeaderpanel().down('#EncounterNo').setValue(record.get('EncounterNo'));",
                    "",
                    "entryWindow.add(entryForm);",
                    "entryWindow.show();",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "openEntryForm",
            "designerId": "59f1019b-78d1-4ffb-8fea-45267f4ba9ea"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "vitalsform",
                "selector": "vitalsform",
                "xtype": "vitalsform"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "vitalsform",
            "designerId": "596d4bac-82ce-4104-960b-189632892ce5"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "navPanel",
                    "eOpts"
                ],
                "fn": "buildMenus",
                "implHandler": [
                    "var accordPanel, menu,menuItem,groupID;",
                    "",
                    "var strMenusStore=Ext.data.StoreManager.lookup('MenusStore');",
                    "",
                    "strMenusStore.load(function(records,operation,success){",
                    "",
                    "    Ext.each(records,function(root) {",
                    "",
                    "        menu = Ext.create(\"Ext.menu.Menu\", {",
                    "            floating: false,",
                    "            title:root.get('menuName'),",
                    "            icon:root.get('sImage')",
                    "        });",
                    "        navPanel.add(menu);",
                    "",
                    "        Ext.each(root, function (rec){",
                    "            Ext.each(rec.get('subMenus'), function (items) {",
                    "                //console.log(items);",
                    "                menuItem = Ext.create(\"Ext.menu.Item\", {",
                    "                    text: items.subMenuName,",
                    "                    icon:items.sImage,",
                    "                    itemId:items.nr,",
                    "                    link:items.url,",
                    "                    dispType:items.dispType",
                    "                });",
                    "                menu.add(menuItem);",
                    "            });",
                    "",
                    "        });",
                    "",
                    "",
                    "    });",
                    "});"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "buildMenus",
            "designerId": "815461b4-8c0c-48fa-abd1-b13e8900976a"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "menu",
                    "item",
                    "eOpts"
                ],
                "fn": "getSelectedMenu",
                "implHandler": [
                    "//Ext.Msg.alert('test','test '+item.link + '-'+item.dispType);",
                    "    centerContainer=this.getViewport().down(\"#detailsPanel\");",
                    "if(item.dispType==1){",
                    "    centerDetails=Ext.create(\"CarePortal.view.\"+item.link,{});",
                    "    centerContainer.removeAll();",
                    "",
                    "    centerContainer.add(centerDetails);",
                    "    centerContainer.setTitle(item.text);",
                    "",
                    "    //centerDetails.query('textfield[name=\"formStatus\"]')[0].setValue('insert');",
                    "",
                    "}else if(item.dispType==2){",
                    "",
                    "    centerDetails=Ext.create(\"CarePortal.view.\"+item.link,{});",
                    "    centerContainer.removeAll();",
                    "    var containterWindows=Ext.create('Ext.window.Window', {",
                    "        title: item.text,",
                    "        resizable:false,",
                    "        closable:true",
                    "    });",
                    "",
                    "    containterWindows.add(centerDetails);",
                    "    containterWindows.show();",
                    "",
                    "    //centerDetails.query('textfield[name=\"formStatus\"]')[0].setValue('insert');",
                    "",
                    "}",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getSelectedMenu",
            "designerId": "8d24ec35-5d5a-414e-8cb7-0233700cdde8"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "patientinfo",
                "selector": "patientinfo",
                "xtype": "patientinfo"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "patientinfo",
            "designerId": "d547161d-894a-4804-8726-414a218f838d"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "field",
                    "e",
                    "options"
                ],
                "fn": "getPressedKey",
                "implHandler": [
                    "   if (e.getKey() == e.ENTER) {",
                    "        this.searchPatient();",
                    "    }"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getPressedKey",
            "designerId": "5f596a20-6d2f-4bb7-8382-6c291eddc0d9"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "openRegister",
                "implHandler": [
                    "register=Ext.create(\"CarePortal.view.Register\",{});",
                    "",
                    "var containterWindows=Ext.create('Ext.window.Window', {",
                    "    title: \"Patient Registration\",",
                    "    resizable:false,",
                    "    closable:true",
                    "});",
                    "",
                    "containterWindows.add(register);",
                    "containterWindows.show();"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "openRegister",
            "designerId": "a5b4bf2a-dc01-4567-a63e-82b21ad6e245"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "getViewPatient",
                "implHandler": [
                    "var rec = button.getViewModel().get('record');",
                    "//Ext.Msg.alert(\"Button clicked\", \"Hey! \" + rec.get(\"EncounterNo\"));",
                    "var sourceForm=button.up('grid').getItemId();",
                    "",
                    "if(sourceForm==='patientInfo'){",
                    "    encounterNo=rec.get('CurrentEncounter');",
                    "    var names=rec.get('FirstName')+' '+rec.get('LastName')+ ' '+rec.get('SurName');",
                    "",
                    "}else if(sourceForm==='OutpatientAdmissions'){",
                    "    encounterNo=rec.get('EncounterNo');",
                    "    var names=rec.get('Names');",
                    "    ",
                    "}",
                    "",
                    "var encStore =Ext.data.StoreManager.lookup('EncountersListStore');",
                    "encStore.load({",
                    "    params: {",
                    "        pid: rec.get('Pid')",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "",
                    "    },",
                    "    scope: this",
                    "});",
                    "",
                    "",
                    "admissionDetails=Ext.create(\"CarePortal.view.AdmissionData\",{});",
                    "//centerContainer.removeAll();",
                    "var containterWindows=Ext.create('Ext.window.Window', {",
                    "    title:\"Admission Data\",",
                    "    resizable:false,",
                    "    closable:true",
                    "});",
                    "",
                    "containterWindows.add(admissionDetails);",
                    "containterWindows.show();",
                    "",
                    "",
                    "",
                    "this.getAdmissiondata().down('#pid').setValue(rec.get('Pid'));",
                    "this.getAdmissiondata().down('#pid2').setValue(rec.get('Pid'));",
                    "this.getAdmissiondata().down('#pid3').setValue(rec.get('Pid'));",
                    "this.getAdmissiondata().down('#fileNumber').setValue(rec.get('fileNumber'));",
                    "this.getAdmissiondata().down('#names').setValue(names);",
                    "this.getAdmissiondata().down('#dob').setValue(rec.get('DateOfBirth'));",
                    "this.getAdmissiondata().down('#gender').setValue(rec.get('Gender'));",
                    "this.getAdmissiondata().down('#registrationDate').setValue(rec.get('RegistrationDate'));",
                    "this.getAdmissiondata().down('#encounterNr').setValue(encounterNo);",
                    "this.getAdmissiondata().down('#encounterNr2').setValue(encounterNo);",
                    "this.getAdmissiondata().down('#encounterDate').setValue(rec.get('EncounterDate'));",
                    "this.getAdmissiondata().down('#encounterDate2').setValue(rec.get('EncounterDate'));",
                    "",
                    "if(encounterNo===''){",
                    "   this.getAdmissiondata().down('#admissionStatus').setValue('No Admission Data for '+ names);",
                    "   this.getAdmissiondata().down('#admissionButtons').setHidden(false);",
                    "   this.getAdmissiondata().down('#menuDiagram').setHidden(true);",
                    "}else{",
                    "     this.getAdmissiondata().down('#admissionStatus').setValue('The Patient is Currentlly Admited in ');",
                    "     this.getAdmissiondata().down('#admissionButtons').setHidden(true);",
                    "     this.getAdmissiondata().down('#menuDiagram').setHidden(false);",
                    "    if(rec.get('EncounterClass')==1){",
                    "        this.getAdmissiondata().down('#inpatientDetails').setHidden(false);",
                    "        this.getAdmissiondata().down('#inpatient').setValue(rec.get('Department'));",
                    "        this.getAdmissiondata().down('#ward').setValue(rec.get('ConsultationFee'));",
                    "        this.getAdmissiondata().down('#financeClass').setValue(rec.get('PaymentMode'));",
                    "",
                    "",
                    "    }else{",
                    "        this.getAdmissiondata().down('#outpatientDetails').setHidden(false);",
                    "        this.getAdmissiondata().down('#outpatient').setValue(rec.get('EncounterClass'));",
                    "        this.getAdmissiondata().down('#department').setValue(rec.get('Department'));",
                    "        this.getAdmissiondata().down('#consultationFee').setValue(rec.get('ConsultationFee'));",
                    "        this.getAdmissiondata().down('#financePlan').setValue(rec.get('PaymentMode'));",
                    "    }",
                    "}",
                    "",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getViewPatient",
            "designerId": "a2b8e6d1-8493-4e30-a3e1-d7f4306e77c4"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "patientstatus",
                "selector": "patientstatus",
                "xtype": "patientstatus"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "patientstatus",
            "designerId": "d2cbbe11-c80d-429e-9a76-2ae15aa39f71"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "admissiondata",
                "selector": "admissiondata",
                "xtype": "admissiondata"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "admissiondata",
            "designerId": "6b2c020e-58a1-4c00-b5cd-00c8b2fe3af8"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "searchPatient",
                "implHandler": [
                    "var searchParam=this.getPatientinfo().down('#searchBox').getValue();",
                    "var patientsStore =Ext.data.StoreManager.lookup('PatientDetails');",
                    "patientsStore.load({",
                    "    params: {",
                    "        sParam: searchParam",
                    "    },",
                    "    callback: function(records, operation, success) {",
                    "",
                    "    },",
                    "    scope: this",
                    "",
                    "});"
                ]
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code"
            },
            "name": "searchPatient",
            "designerId": "d5c8ff3c-444b-4e78-9fe1-ff59cf16b939"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "showAdmissionform",
                "implHandler": [
                    "//Ext.Msg.alert('Test',button.getItemId());",
                    "if(button.getItemId()=='cmdAdmitInpatient'){",
                    "    this.getAdmissiondata().down('#admitInpatient').setHidden(false);",
                    "    this.getAdmissiondata().down('#admitOutpatient').setHidden(true);",
                    "}else if(button.getItemId()=='cmdAdmitOutpatient'){",
                    "     this.getAdmissiondata().down('#admitOutpatient').setHidden(false);",
                    "     this.getAdmissiondata().down('#admitInpatient').setHidden(true);",
                    "}",
                    "",
                    "// var itemsStore =Ext.data.StoreManager.lookup('Consultations');",
                    "//         itemsStore.load({",
                    "//             params: {",
                    "//                 searchParam: 'Yes'",
                    "//             },",
                    "//             callback: function(records, operation, success) {",
                    "",
                    "//             },",
                    "//             scope: this",
                    "",
                    "//         });",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "showAdmissionform",
            "designerId": "b36201f4-c3c5-4e7c-8e2c-1459b16142f4"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "cancelAdmission",
                "implHandler": [
                    "//if(button.getItemId('#cmdAdmitInpatient')){",
                    "    this.getAdmissiondata().down('#admitInpatient').setHidden(true);",
                    "    this.getAdmissiondata().down('#admitOutpatient').setHidden(true);",
                    "",
                    "// }else if(button.getItemid('#cmdAdmitOutpatient')){",
                    "//     this.getAdmissiondata().down('#admitOutpatient').setHidden(false);",
                    "//     this.getAdmissiondata().down('#admitInpatient').setHidden(true);",
                    "// }"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "cancelAdmission",
            "designerId": "936d1c2a-6df1-4fd9-9514-d9721394f8a6"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "savePatient",
                "implHandler": [
                    "var form = button.up('panel').getForm(); // get the basic form",
                    "//var entryForm=form.getItemId();",
                    "if (form.isValid()) { // make sure the form contains valid data before submitting",
                    "    form.submit({",
                    "        success: function (form, action) {",
                    "            Ext.Msg.alert('Thank you!', 'The Patient has been saved Successfully.');",
                    "            button.up('form').getForm().reset();",
                    "            button.up('window').hide();",
                    "            ",
                    "             var patientsStore =Ext.data.StoreManager.lookup('PatientDetails');",
                    "             patientsStore.load({});",
                    "",
                    "        },",
                    "        failure: function (form, action) {",
                    "            var jsonResp = Ext.decode(action.response.responseText);",
                    "",
                    "            Ext.Msg.alert('Failed', 'Could not save Patient. \\n Error=' + jsonResp.error);",
                    "        }",
                    "    });",
                    "} else { // display error alert if the data is invalid",
                    "    Ext.Msg.alert('Invalid Data', 'Please correct form errors.');",
                    "}"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "savePatient",
            "designerId": "ed6c6e74-3b57-4951-962a-f4553d4166ea"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "saveOpAdmission",
                "implHandler": [
                    "var form = button.up('panel').getForm(); // get the basic form",
                    "        //var entryForm=form.getItemId();",
                    "        if (form.isValid()) { // make sure the form contains valid data before submitting",
                    "            form.submit({",
                    "                success: function (form, action) {",
                    "                    Ext.Msg.alert('Thank you!', 'The Patient has been Admitted Successfully.');",
                    "                    button.up('form').getForm().reset();",
                    "                    button.up('form').hide();",
                    "",
                    "                                    },",
                    "                failure: function (form, action) {",
                    "                    var jsonResp = Ext.decode(action.response.responseText);",
                    "",
                    "                    Ext.Msg.alert('Failed', 'Could not save Patient. \\n Error=' + jsonResp.error);",
                    "                }",
                    "            });",
                    "        } else { // display error alert if the data is invalid",
                    "            Ext.Msg.alert('Invalid Data', 'Please correct form errors.');",
                    "        }",
                    "",
                    "this.getAdmissiondata().down('#admissionButtons').setHidden(true);",
                    "this.getAdmissiondata().down('#outpatientDetails').setHidden(false);"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "saveOpAdmission",
            "designerId": "b1d71b50-8aea-49f9-b823-19cc2513eaf5"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "saveForm",
                "implHandler": [
                    "var form = button.up('panel').getForm(); // get the basic form",
                    "//var entryForm=form.getItemId();",
                    "if (form.isValid()) { // make sure the form contains valid data before submitting",
                    "    form.submit({",
                    "        success: function (form, action) {",
                    "            Ext.Msg.alert('Thank you!', 'The Vitals has been saved Successfully.');",
                    "            button.up('form').getForm().reset();",
                    "            button.up('window').hide();",
                    "",
                    "        },",
                    "        failure: function (form, action) {",
                    "            var jsonResp = Ext.decode(action.response.responseText);",
                    "",
                    "            Ext.Msg.alert('Failed', 'Could not save Vitals. \\n Error=' + jsonResp.error);",
                    "        }",
                    "    });",
                    "} else { // display error alert if the data is invalid",
                    "    Ext.Msg.alert('Invalid Data', 'Please correct form errors.');",
                    "}"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "saveForm",
            "designerId": "a8601184-b06a-45ec-8da3-e90791ef7084"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "saveIpAdmission",
                "implHandler": [
                    " var form = button.up('panel').getForm(); // get the basic form",
                    "        //var entryForm=form.getItemId();",
                    "        if (form.isValid()) { // make sure the form contains valid data before submitting",
                    "            form.submit({",
                    "                success: function (form, action) {",
                    "                    Ext.Msg.alert('Thank you!', 'The Admission has been saved Successfully.');",
                    "                    button.up('form').getForm().reset();",
                    "                    button.up('form').hide();",
                    "                   ",
                    "                },",
                    "                failure: function (form, action) {",
                    "                    var jsonResp = Ext.decode(action.response.responseText);",
                    "",
                    "                    Ext.Msg.alert('Failed', 'Could not save Admission Data. \\n Error=' + jsonResp.error);",
                    "                }",
                    "            });",
                    "        } else { // display error alert if the data is invalid",
                    "            Ext.Msg.alert('Invalid Data', 'Please correct form errors.');",
                    "        }",
                    "",
                    " this.getAdmissiondata().down('#admissionButtons').setHidden(true);",
                    "  this.getAdmissiondata().down('#admissionDetails').setHidden(false);",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "saveIpAdmission",
            "designerId": "a9acd9a9-70d3-49e7-a0d7-e2e6d2d7bbac"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "admitinpatient",
                "selector": "admitinpatient",
                "xtype": "admitinpatient"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "admitinpatient",
            "designerId": "4a5ecdf6-644e-40b9-8675-0df6e3bc279f"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "admitoutpatient",
                "selector": "admitoutpatient",
                "xtype": "admitoutpatient"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "admitoutpatient",
            "designerId": "bc2078d3-ede2-431c-bc03-80420faebfde"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "component, eOpts"
                ],
                "fn": "createVitals",
                "implHandler": [
                    "",
                    "//Ext.Msg.alert('Thank you!',this.getPatientstatus().down('#pid'));",
                    "component.getEl().on('click', function() {",
                    "  // Ext.Msg.alert('Thank you!',component.up('panel').up('panel').getItemId());",
                    "",
                    "        var vitals=Ext.create(\"CarePortal.view.VitalsForm\",{});",
                    "        //centerContainer.removeAll();",
                    "        var containterWindows=Ext.create('Ext.window.Window', {",
                    "            title:\"Vitals Entry Form\",",
                    "            resizable:false,",
                    "            closable:true",
                    "        });",
                    "",
                    "        containterWindows.add(vitals);",
                    "        containterWindows.show();",
                    "",
                    "    vitals.down('#pid').setValue(component.up('panel').up('panel').down('#pid').getValue());",
                    "    vitals.down('#names').setValue(component.up('panel').up('panel').down('#names').getValue());",
                    "   vitals.down('#encounterNo').setValue(component.up('panel').up('panel').down('#encounterNr').getValue());",
                    "    vitals.down('#Dob').setValue(component.up('panel').up('panel').down('#dob').getValue());",
                    "",
                    "",
                    "});",
                    "",
                    "",
                    "",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "createVitals",
            "designerId": "d76fd678-b119-4c3b-abb2-5871f2f1f4bb"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "doctorsnotesentry",
                "selector": "doctorsnotesentry",
                "xtype": "dontorsnotesentry"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "doctorsnotesentry",
            "designerId": "d7607248-9cf6-487d-886e-e29598d394f6"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "wardoccupancy",
                "selector": "wardoccupancy",
                "xtype": "wardoccupancy"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "wardoccupancy",
            "designerId": "a8fb89cd-76c0-4e1f-b4a0-aa76dc9a15eb"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "fn": "createNotes",
                "implHandler": [
                    " component.getEl().on('click', function() {",
                    "",
                    "                //var icd10Store =Ext.data.StoreManager.lookup('DiseaseCodeStore');",
                    "                 //    icd10Store.load({});",
                    "                var notes=Ext.create(\"CarePortal.view.Notes\",{});",
                    "                var containterWindows=Ext.create('Ext.window.Window', {",
                    "                    title:\"Complaints Entry Form\",",
                    "                    resizable:false,",
                    "                    closable:true",
                    "                });",
                    "",
                    "                containterWindows.add(notes);",
                    "                containterWindows.show();",
                    "",
                    "            notes.down('#pid').setValue(component.up('panel').up('panel').down('#pid').getValue());",
                    "            notes.down('#names').setValue(component.up('panel').up('panel').down('#names').getValue());",
                    "            notes.down('#encounterNo').setValue(component.up('panel').up('panel').down('#encounterNr').getValue());",
                    "            notes.down('#Dob').setValue(component.up('panel').up('panel').down('#dob').getValue());",
                    "",
                    "        });",
                    ""
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "createNotes",
            "designerId": "71b20798-9a38-4ce2-aebc-1a03d117295c"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "component,eOpts"
                ],
                "fn": "createDiagnosis",
                "implHandler": [
                    "component.getEl().on('click', function() {",
                    "",
                    "    var diagnosis=Ext.create(\"CarePortal.view.Diagnosis\",{});",
                    "    var containterWindows=Ext.create('Ext.window.Window', {",
                    "        title:\"Diagnosis Entry Form\",",
                    "        resizable:false,",
                    "        closable:true",
                    "    });",
                    "",
                    "    containterWindows.add(diagnosis);",
                    "    containterWindows.show();",
                    "",
                    "    diagnosis.down('#pid').setValue(component.up('panel').up('panel').down('#pid').getValue());",
                    "    diagnosis.down('#names').setValue(component.up('panel').up('panel').down('#names').getValue());",
                    "    diagnosis.down('#encounterNo').setValue(component.up('panel').up('panel').down('#encounterNr').getValue());",
                    "    diagnosis.down('#Dob').setValue(component.up('panel').up('panel').down('#dob').getValue());",
                    "    });"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "createDiagnosis",
            "designerId": "a1593cf5-294b-49da-bd6a-084bcd4b5fcf"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "fn": "createLabTest",
                "implHandler": [
                    " component.getEl().on('click', function() {",
                    "",
                    "     var labtest=Ext.create(\"CarePortal.view.LabTests\",{});",
                    "     var containterWindows=Ext.create('Ext.window.Window', {",
                    "         title:\"lab Tests Entry Form\",",
                    "         resizable:false,",
                    "         closable:true",
                    "     });",
                    "",
                    "     containterWindows.add(labtest);",
                    "     containterWindows.show();",
                    "",
                    "     labtest.down('#pid').setValue(component.up('panel').up('panel').down('#pid').getValue());",
                    "     labtest.down('#names').setValue(component.up('panel').up('panel').down('#names').getValue());",
                    "     labtest.down('#encounterNo').setValue(component.up('panel').up('panel').down('#encounterNr').getValue());",
                    "     labtest.down('#Dob').setValue(component.up('panel').up('panel').down('#dob').getValue());",
                    " });"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "createLabTest",
            "designerId": "1c1ffafa-992d-4497-81d6-42ee267e1b5c"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "fn": "createRadiology",
                "implHandler": [
                    " component.getEl().on('click', function() {",
                    "",
                    "     var radiology=Ext.create(\"CarePortal.view.Radiology\",{});",
                    "     var containterWindows=Ext.create('Ext.window.Window', {",
                    "         title:\"Radiology Entry Form\",",
                    "         resizable:false,",
                    "         closable:true",
                    "     });",
                    "",
                    "     containterWindows.add(radiology);",
                    "     containterWindows.show();",
                    "",
                    "     radiology.down('#pid').setValue(component.up('panel').up('panel').down('#pid').getValue());",
                    "     radiology.down('#names').setValue(component.up('panel').up('panel').down('#names').getValue());",
                    "     radiology.down('#encounterNo').setValue(component.up('panel').up('panel').down('#encounterNr').getValue());",
                    "     radiology.down('#Dob').setValue(component.up('panel').up('panel').down('#dob').getValue());",
                    " });"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "createRadiology",
            "designerId": "c05a2463-2844-44cb-9bcf-032f30a3fc19"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "component,eOpts"
                ],
                "fn": "createServices",
                "implHandler": [
                    " component.getEl().on('click', function() {",
                    "",
                    "     var services=Ext.create(\"CarePortal.view.Services\",{});",
                    "     var containterWindows=Ext.create('Ext.window.Window', {",
                    "         title:\"Service and Procedures Entry Form\",",
                    "         resizable:false,",
                    "         closable:true",
                    "     });",
                    "",
                    "     containterWindows.add(services);",
                    "     containterWindows.show();",
                    "",
                    "     services.down('#pid').setValue(component.up('panel').up('panel').down('#pid').getValue());",
                    "     services.down('#names').setValue(component.up('panel').up('panel').down('#names').getValue());",
                    "     services.down('#encounterNo').setValue(component.up('panel').up('panel').down('#encounterNr').getValue());",
                    "     services.down('#Dob').setValue(component.up('panel').up('panel').down('#dob').getValue());",
                    " });"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "createServices",
            "designerId": "856add17-905b-49ee-8049-0004f8d4a115"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "fn": "createPrescription",
                "implHandler": [
                    " component.getEl().on('click', function() {",
                    "",
                    "     var prescription=Ext.create(\"CarePortal.view.NewPrescriptions\",{});",
                    "     var containterWindows=Ext.create('Ext.window.Window', {",
                    "         title:\"Prescriptions Entry Form\",",
                    "         resizable:false,",
                    "         closable:true",
                    "     });",
                    "",
                    "     containterWindows.add(prescription);",
                    "     containterWindows.show();",
                    "",
                    "     prescription.down('#pid').setValue(component.up('panel').up('panel').down('#pid').getValue());",
                    "     prescription.down('#names').setValue(component.up('panel').up('panel').down('#names').getValue());",
                    "     prescription.down('#encounterNo').setValue(component.up('panel').up('panel').down('#encounterNr').getValue());",
                    "     prescription.down('#Dob').setValue(component.up('panel').up('panel').down('#dob').getValue());",
                    " });"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "createPrescription",
            "designerId": "fdd6cf50-5010-4399-91ff-1f259df4048f"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button"
                ],
                "fn": "addComplaints",
                "implHandler": [
                    "var pid=button.up('form').down('#pid').getValue();",
                    "var encounterNo=button.up('form').down('#encounterNo').getValue();",
                    "var complaint=button.up('form').down('#txtComplaint').getValue();",
                    "var comment=button.up('form').down('#txtComment').getValue();",
                    "",
                    "var notesPanel=button.up('form').down('#notesPanel');",
                    "",
                    "        Ext.Ajax.request({",
                    "             url: '../data/getDataFunctions.php?task=saveComplaints',",
                    "            params: {",
                    "                pid:pid,",
                    "                encNr:encounterNo,",
                    "                complaint:complaint,",
                    "                comment:comment",
                    "            },",
                    "            success: function(response){",
                    "               var resp = Ext.JSON.decode(response.responseText);",
                    "                Ext.Msg.alert('Error',resp.Error);",
                    "",
                    "                ",
                    "",
                    "            },",
                    "            scope:this",
                    "        });",
                    "this.loadNotes(encounterNo,notesPanel);"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "addComplaints",
            "designerId": "8a83e8b5-06e7-4901-8010-7c41c362358b"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "notes",
                "selector": "notes",
                "xtype": "notes"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "notes",
            "designerId": "3e2ece85-f1e7-4f22-85b0-ccb60804ce03"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "encounterNr,component"
                ],
                "fn": "loadNotes",
                "implHandler": [
                    " var notesStore=Ext.data.StoreManager.lookup(\"NotesStore\");",
                    "notesStore.load({",
                    "    params:{",
                    "        encNr:encounterNr",
                    "    }",
                    "});",
                    "",
                    "",
                    "var tpl=new Ext.XTemplate(",
                    "    '<Table id=notes>',",
                    "    '<tr><td class=titles>Complaint</td><td class=titles>Comments</td></tr>',",
                    "    '<tpl for=\".\">',",
                    "    '<tr>',",
                    "    '<td>{Complaints}</td>',",
                    "    '<td>{Notes}</td>',",
                    "    '</tr>',",
                    "    '</tpl>',",
                    "    '</table>'",
                    ");",
                    "",
                    "var data = [];",
                    "notesStore.each(function(record) {",
                    "    data.push(record.getData());",
                    "});",
                    "",
                    "tpl.overwrite(component.body,data);"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "loadNotes",
            "designerId": "c1010849-c15f-4e56-895e-350509f1af5d"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "fn": "getSelectedPatient",
                "implHandler": [
                    "component.getEl().on('click', function(e,t) {",
                    "       e.stopEvent();",
                    "     // Ext.Msg.alert('Test','Select Pid is '+t.id);",
                    "       var assignBeds=Ext.create(\"CarePortal.view.AssignBeds\",{});",
                    "       var containterWindows=Ext.create('Ext.window.Window', {",
                    "           title:\"Assign Occupant\",",
                    "           resizable:true,",
                    "           closable:true,",
                    "           height:600,",
                    "           width:1000,",
                    "           layout : {",
                    "                type: 'vbox',",
                    "                align: 'stretch'",
                    "           }",
                    "       });",
                    "",
                    "",
                    "        var assMsg=assignBeds.down('#assMsg').getValue();",
                    "        var ward=component.up('grid').down('#wardTitle').getValue();",
                    "        var wardID=component.up('grid').down('#wardID').getValue();",
                    "        assignBeds.down('#ward').setValue(ward);",
                    "        assignBeds.down('#assMsg').setValue(assMsg +\" PID \" + t.innerHTML + \".Thank You\");",
                    "        assignBeds.down('#wardID').setValue(wardID);",
                    "",
                    "",
                    "             containterWindows.add(assignBeds);",
                    "             containterWindows.show();",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "   });"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getSelectedPatient",
            "designerId": "88b33eac-c163-4918-a646-578097065c71"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "assignbeds",
                "selector": "assignbeds",
                "xtype": "assignbeds"
            },
            "configAlternates": {
                "ref": "string",
                "selector": "string",
                "xtype": "string"
            },
            "name": "assignbeds",
            "designerId": "1cc39378-4cdd-4bcc-b851-c3db2592b90c"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "gridpanel",
                    "record",
                    "item",
                    "index",
                    "e",
                    "options"
                ],
                "fn": "assignBed",
                "implHandler": [
                    "if(record.get('PID')===''){",
                    "  //   var columns = grid.getView().headerCt.getGridColumns();",
                    "    Ext.Msg.alert('Test','ward No is '+gridpanel.Id);",
                    "",
                    "    var encNo=record.get('EncounterNo');",
                    "    var wrdNo=record.get('RoomNo');",
                    "    var rm=record.get('RoomNo');",
                    "    var bd=record.get('BedNo');",
                    "",
                    "     Ext.Ajax.request({",
                    "            url: 'data/getDataFunctions.php?task=assignBed',",
                    "            waitMsg: 'wait while we assign a bed ...',",
                    "         params:{",
                    "             encNr:encNo,",
                    "             wrdNo:wrdNo",
                    "         },",
                    "            success: function(response){",
                    "                var text = response.responseText;",
                    "",
                    "                Ext.Msg.alert('Success','Successfully Assigned Bed to '+record.get('PID'));",
                    "            },",
                    "            failure:function(response){",
                    "               // var resp = JSON.parseJSON(response);",
                    "                Ext.Msg.alert('Access Denied','Access Denied, contact Systems Administrator');",
                    "            },",
                    "              scope: this",
                    "        });",
                    "}"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "assignBed",
            "designerId": "3be6aad0-6ddc-462c-b3fc-a83a89e0a80e"
        }
    ]
}